{"ast":null,"code":"var _jsxFileName = \"/home/nikunj/chrome/Reactprojects/foodorder/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useReducer } from \"react\";\nimport Cartcomponent from \"./components/cart/Cartcomponent\";\nimport Headercomponent from \"./components/parts/Headercomponent\";\nimport Mealoptions from \"./components/parts/Meals/Mealsoptions\";\nimport Mealsummary from \"./components/parts/Meals/Mealsummary\";\nimport { Cart_context } from \"./components/store/Cartcontext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [show, changeshowstate] = useState(false);\n  const [cartstate, cartstatefun] = useReducer((state, action) => {\n    const find_index = () => {\n      const index = state.items.findIndex(it => {\n        return it.id === action.item.id;\n      });\n      return index;\n    };\n\n    if (action.type === 'ADD') {\n      const new_total_am = state.totalamount + action.item.amount * action.item.price;\n      const item_index = find_index();\n      let update_item_object,\n          update_items_array = [...state.items];\n      const object_tobe_change = state.items[item_index];\n      console.log(object_tobe_change);\n\n      if (object_tobe_change) {\n        update_item_object = { ...object_tobe_change,\n          amount: object_tobe_change.amount + action.item.amount\n        };\n        update_items_array[item_index] = update_item_object;\n        return {\n          items: update_items_array,\n          totalamount: new_total_am\n        };\n      } else {\n        return {\n          items: state.items.concat(action.item),\n          totalamount: new_total_am\n        };\n      }\n    } else if (action.type === 'REMOVE') {\n      const item_index = find_index();\n      let update_item_object,\n          update_items_array = [...state.items];\n      const object_tobe_dec = state.items[item_index];\n      console.log(object_tobe_dec);\n      update_item_object = { ...object_tobe_dec,\n        amount: object_tobe_dec.amount - action.item.amount\n      };\n      update_items_array[item_index] = update_item_object;\n      const new_total_am = state.totalamount - action.item.price;\n\n      if (update_item_object.amount === 0) {\n        update_items_array.splice(item_index, 1);\n      }\n\n      return {\n        items: update_items_array,\n        totalamount: new_total_am\n      };\n    }\n  }, {\n    items: [],\n    totalamount: 0\n  });\n\n  function showmodal() {\n    changeshowstate(true);\n  }\n\n  function hidecart() {\n    changeshowstate(false);\n  }\n\n  function additemstocart(item) {\n    cartstatefun({\n      type: 'ADD',\n      item: item\n    });\n  }\n\n  function removeitemsfromcart(item) {\n    cartstatefun({\n      type: 'REMOVE',\n      item: item\n    });\n  }\n\n  const cartstorageobject = {\n    items: cartstate.items,\n    totalamount: cartstate.totalamount,\n    additem: additemstocart,\n    removeitem: removeitemsfromcart\n  };\n  console.log(cartstorageobject);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Cart_context.Provider, {\n      value: cartstorageobject,\n      children: [/*#__PURE__*/_jsxDEV(Headercomponent, {\n        funtoshowmodal: showmodal,\n        funtohidecart: hidecart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), show && /*#__PURE__*/_jsxDEV(Cartcomponent, {\n        hidecartfun: hidecart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(Mealsummary, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Mealoptions, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"vbzmbP0NUbIBZJGEy/WsH+QUw0o=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/nikunj/chrome/Reactprojects/foodorder/src/App.jsx"],"names":["Fragment","useState","useReducer","Cartcomponent","Headercomponent","Mealoptions","Mealsummary","Cart_context","App","show","changeshowstate","cartstate","cartstatefun","state","action","find_index","index","items","findIndex","it","id","item","type","new_total_am","totalamount","amount","price","item_index","update_item_object","update_items_array","object_tobe_change","console","log","concat","object_tobe_dec","splice","showmodal","hidecart","additemstocart","removeitemsfromcart","cartstorageobject","additem","removeitem"],"mappings":"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","sourcesContent":["import { Fragment, useState, useReducer } from \"react\";\nimport Cartcomponent from \"./components/cart/Cartcomponent\";\nimport Headercomponent from \"./components/parts/Headercomponent\";\nimport Mealoptions from \"./components/parts/Meals/Mealsoptions\";\nimport Mealsummary from \"./components/parts/Meals/Mealsummary\";\nimport { Cart_context } from \"./components/store/Cartcontext\";\n\n\n\n\nfunction App() {\n\n  const [show, changeshowstate] = useState(false);\n\n  const [cartstate, cartstatefun] = useReducer((state, action) => {\n\n    const find_index = () => {\n\n      const index =  state.items.findIndex((it) => {\n          return it.id === action.item.id\n        })\n    \n    return index;\n    \n      }\n      \n\n    if (action.type === 'ADD') {\n\n      const new_total_am = state.totalamount + action.item.amount * action.item.price;\n\n      const item_index = find_index();\n\n      let update_item_object, update_items_array = [...state.items];\n      const object_tobe_change = state.items[item_index];\n      console.log(object_tobe_change);\n      if (object_tobe_change) {\n\n        update_item_object = {\n          ...object_tobe_change,\n          amount: object_tobe_change.amount + action.item.amount\n        };\n\n        update_items_array[item_index] = update_item_object;\n\n        return {\n          items: update_items_array,\n          totalamount: new_total_am\n        }\n      } else {\n\n        return {\n          items: state.items.concat(action.item),\n          totalamount: new_total_am\n        }\n      }\n\n\n    }else if(action.type === 'REMOVE'){\n\n                   const item_index = find_index()\n                   let update_item_object, update_items_array = [...state.items];\n      const object_tobe_dec = state.items[item_index];\n      console.log(object_tobe_dec);\n      update_item_object = {\n        ...object_tobe_dec,\n        amount : object_tobe_dec.amount - action.item.amount\n      }\n\nupdate_items_array[item_index] = update_item_object; \nconst new_total_am = state.totalamount -  action.item.price;\n\nif(update_item_object.amount === 0){\nupdate_items_array.splice(item_index , 1);\n}\n      return {\n        items : update_items_array , \n        totalamount : new_total_am\n      }\n\n    }\n\n  }, { items: [], totalamount: 0 });\n\n\n  \n\n\n  function showmodal() {\n    changeshowstate(true);\n  }\n\n  function hidecart() {\n    changeshowstate(false);\n  }\n\n  function additemstocart(item) {\n\n    cartstatefun({ type: 'ADD', item: item })\n\n  }\n\n  function removeitemsfromcart(item) {\n\n    cartstatefun({type : 'REMOVE' , item : item})\n\n  }\n\n  const cartstorageobject = {\n    items: cartstate.items,\n    totalamount: cartstate.totalamount,\n    additem: additemstocart,\n    removeitem: removeitemsfromcart\n\n\n  }\n  console.log(cartstorageobject);\n\n  return (\n\n    <Fragment>\n      <Cart_context.Provider value={cartstorageobject}>\n        <Headercomponent funtoshowmodal={showmodal} funtohidecart={hidecart}></Headercomponent>\n        {show && <Cartcomponent hidecartfun={hidecart}></Cartcomponent>}\n        <Mealsummary></Mealsummary>\n        <Mealoptions></Mealoptions>\n      </Cart_context.Provider>\n    </Fragment>\n\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}